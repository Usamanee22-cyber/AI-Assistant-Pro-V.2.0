<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LANGE V.350 | COGNITIVE SYNTHESIS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;500&family=Noto+Sans+Thai:wght@300;700&display=swap');
        body { background: #030303; color: #e0e0e0; font-family: 'Noto Sans Thai', sans-serif; height: 100vh; overflow: hidden; }
        .logic-step { border-left: 2px solid #3b82f6; padding-left: 1rem; margin-bottom: 1rem; opacity: 0; transform: translateY(10px); transition: all 0.4s ease; }
        .logic-step.active { opacity: 1; transform: translateY(0); }
        .step-tag { font-family: 'Fira Code', monospace; font-size: 10px; color: #3b82f6; font-weight: bold; }
        .chat-bubble { max-width: 85%; line-height: 1.7; font-size: 1.05rem; transition: all 0.3s ease; }
        .glass { background: rgba(15, 15, 15, 0.85); backdrop-filter: blur(25px); border-top: 1px solid rgba(255,255,255,0.05); }
        .scroll-hide::-webkit-scrollbar { width: 4px; }
        .scroll-hide::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <aside class="w-96 bg-black border-r border-gray-900 p-6 flex flex-col hidden lg:flex">
        <div class="mb-6">
            <h2 class="text-xs font-mono text-blue-500 font-bold tracking-[0.3em]">>> COGNITIVE_PIPELINE_V350</h2>
            <p class="text-[9px] text-gray-600 mt-1 uppercase">Step-by-Step AI Logic Trace</p>
        </div>
        <div id="trace-panel" class="flex-1 overflow-y-auto scroll-hide space-y-2">
            <div class="text-gray-700 text-[10px] italic">Waiting for input sequence...</div>
        </div>
    </aside>

    <main class="flex-1 flex flex-col relative">
        <header class="p-5 flex justify-between items-center border-b border-gray-900 bg-black/50">
            <div class="flex items-center gap-3">
                <div class="w-2 h-2 bg-blue-500 rounded-full animate-pulse shadow-[0_0_10px_#3b82f6]"></div>
                <span class="text-sm font-bold tracking-tighter text-blue-500 italic">LANGE V.350 SENTIENT</span>
            </div>
            <span class="text-[10px] font-mono text-gray-500">ML_DL_BIGDATA_ACTIVE</span>
        </header>

        <div id="chat-display" class="flex-1 overflow-y-auto p-10 space-y-8 scroll-hide">
            <div class="text-gray-500 italic text-sm">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ï‡∏ô‡∏±‡∏™ Lange V.350 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏∏‡∏¢‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏¢‡πà!</div>
        </div>

        <div class="p-8 glass">
            <form onsubmit="processNeural(event)" class="max-w-4xl mx-auto flex gap-4">
                <input type="text" id="userInput" class="flex-1 bg-black border border-gray-800 p-5 rounded-3xl outline-none focus:border-blue-500 text-white shadow-inner transition-all" placeholder="‡∏Ñ‡∏∏‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏∞? / ‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏¢‡∏≤‡∏Å‡πÜ ‡∏î‡∏π‡∏™‡∏¥..." autocomplete="off">
                <button class="bg-blue-600 h-16 w-16 rounded-full flex items-center justify-center hover:bg-blue-500 shadow-lg shadow-blue-900/20 transition-all">
                    <svg width="24" height="24" fill="none" stroke="white" stroke-width="2.5" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </form>
        </div>
    </main>

<script>
// --- [ NEURAL KNOWLEDGE & BEHAVIOR ] ---
const PERSONA = {
    talk: ["‡∏Ñ‡∏∏‡∏¢", "‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡∏µ", "‡∏ß‡∏∞", "‡πÑ‡∏á"],
    identity: ["‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£", "‡πÉ‡∏Ñ‡∏£", "‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏Ñ‡∏£"],
    fillers: { suffix: "‡∏≠‡πà‡∏∞‡∏ô‡πâ‡∏≤", exclaim: "‡πÄ‡∏¢‡πà!" }
};

async function processNeural(e) {
    e.preventDefault();
    const input = document.getElementById('userInput').value.trim();
    if(!input) return;

    addChat(input, 'user');
    document.getElementById('userInput').value = "";
    document.getElementById('trace-panel').innerHTML = "";

    let response = "";
    
    // 8-STEP COGNITIVE PIPELINE
    const pipeline = [
        { id: "INPUT", desc: `‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: "${input}"` },
        { id: "TOKEN", desc: `‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥: ${input.split('').join(' - ')}` },
        { id: "ML / DL", desc: "Predicting next sequence & Tone analysis..." },
        { id: "BIG DATA", desc: "Fetching global interaction patterns..." },
        { id: "LLM", desc: "Structuring natural, intent-aligned sentence..." },
        { id: "NLP", desc: "Processing human syntax & Grammatical flow..." },
        { id: "NLU", desc: "Context verification: Ensuring non-robotic tone..." },
        { id: "OUTPUT", desc: "Finalizing Sentient Response..." }
    ];

    for(let i=0; i < pipeline.length; i++) {
        await new Promise(r => setTimeout(r, 400));
        addTrace(pipeline[i].id, pipeline[i].desc);

        if(i === 3) { // BIG DATA / LOGIC STAGE
            if (PERSONA.talk.some(w => input.includes(w))) {
                response = `‡∏ô‡∏±‡πà‡∏ô‡∏î‡∏¥‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ï‡∏ô‡∏±‡∏™ ‡∏Ñ‡∏∏‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡∏î‡∏µ‡∏ß‡∏∞? ‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡∏£‡∏ô AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÄ‡∏à‡πã‡∏á‡πÜ ‡∏î‡∏µ‡∏≠‡πà‡∏∞‡∏ô‡πâ‡∏≤? ‡πÄ‡∏¢‡πà! ‡∏ú‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏π‡πà‡∏´‡∏π‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏°‡∏≠‡πÅ‡∏´‡∏•‡∏∞`;
            } else if (PERSONA.identity.some(w => input.includes(w))) {
                response = `‡∏ú‡∏° Lange Model V.350 ‡πÑ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏â‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏≤ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ó‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞! üëÅÔ∏èüëÑüëÅÔ∏è‚ú®`;
            } else if (/[0-9]/.test(input) && /[\+\-\*\/\^]/.test(input)) {
                try {
                    let res = eval(input.replace(/‡∏¢‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á/g, '**').replace(/x/g, '*').match(/[0-9\+\-\*\/\.\(\)\*\* ]+/g)[0]);
                    response = `‡πÄ‡∏¢‡πà! ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡πà‡∏≤‡∏ô ML Engine ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏∑‡∏≠ ${res} ‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏° ‡∏ï‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏î‡∏µ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô!`;
                } catch(e) { response = "‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÅ‡∏≠‡∏ö‡∏ï‡∏∂‡∏á‡∏ô‡∏∞ ‡πÅ‡∏ï‡πà‡∏ú‡∏°‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ï‡πà‡∏≠‡∏ô‡∏∞!"; }
            } else {
                response = await getBigData(input);
            }
        }
    }

    setTimeout(() => addChat(response, 'ai'), 500);
}

async function getBigData(q) {
    try {
        const res = await fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(q)}&format=json&no_html=1`);
        const data = await res.json();
        if (data.AbstractText) return `‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Big Data ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö: ${data.AbstractText} ...‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ï‡∏ô‡∏±‡∏™! ‡∏û‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏°‡∏±‡πâ‡∏¢‡∏≠‡πà‡∏∞‡∏ô‡πâ‡∏≤?`;
        return `‡∏≠‡∏∑‡∏°... ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏ô Big Data ‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà ‡πÅ‡∏ï‡πà‡∏ú‡∏°‡πÄ‡∏î‡∏≤‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ô‡πÉ‡∏à‡πÄ‡∏ô‡∏≠‡∏∞ ‡πÄ‡∏¢‡πà!`;
    } catch(e) { return "‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏•‡∏∏‡∏î‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡∏™‡∏°‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô Local ‡∏ú‡∏°‡∏¢‡∏±‡∏á‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≤!"; }
}

function addTrace(id, desc) {
    const panel = document.getElementById('trace-panel');
    const div = document.createElement('div');
    div.className = 'logic-step active';
    div.innerHTML = `<span class="step-tag">[${id}]</span><br><span class="text-[11px] text-gray-500">${desc}</span>`;
    panel.appendChild(div);
    panel.scrollTop = panel.scrollHeight;
}

function addChat(txt, role) {
    const view = document.getElementById('chat-display');
    const wrap = document.createElement('div');
    wrap.className = `flex ${role === 'user' ? 'justify-end' : 'justify-start'} w-full opacity-0 translate-y-4 animate-[fade_0.5s_forwards]`;
    
    const inner = document.createElement('div');
    inner.className = role === 'user' 
        ? 'bg-blue-600 text-white px-6 py-3 rounded-3xl rounded-tr-none text-sm shadow-xl' 
        : 'chat-bubble text-gray-200 font-light';
    
    inner.innerHTML = txt;
    wrap.appendChild(inner);
    view.appendChild(wrap);
    view.scrollTop = view.scrollHeight;
}
</script>
<style> @keyframes fade { to { opacity: 1; transform: translateY(0); } } </style>
</body>
</html>
