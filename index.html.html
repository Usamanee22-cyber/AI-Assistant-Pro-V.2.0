<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Assistant-Pro-V.2.0 | Full Edition</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        /* --- Core Theme & UI Aesthetics --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Noto Sans Thai', sans-serif; }
        
        body {
            background: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
            height: 100vh; display: flex; align-items: center; justify-content: center; overflow: hidden;
        }

        .main-card {
            background: rgba(255, 255, 255, 0.98);
            width: 95%; max-width: 1200px; height: 94vh;
            border-radius: 40px; display: flex; flex-direction: column;
            box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.4);
            overflow: hidden;
        }

        #viewport {
            flex: 1; overflow-y: auto; padding: 40px; scroll-behavior: smooth;
            background: linear-gradient(to bottom, transparent, rgba(241, 245, 249, 0.5));
        }

        /* --- Message Bubbles & Animation --- */
        .msg-row { display: flex; width: 100%; margin-bottom: 28px; animation: fadeInUp 0.5s ease-out forwards; }
        .msg-row.user { justify-content: flex-end; }

        .bubble {
            max-width: 75%; padding: 20px 28px; border-radius: 30px;
            font-size: 16px; line-height: 1.6; transition: 0.3s;
        }

        .user .bubble {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white; border-bottom-right-radius: 4px;
            box-shadow: 0 10px 20px -5px rgba(37, 99, 235, 0.3);
        }

        .assistant .bubble {
            background: #ffffff; color: #0f172a; border-bottom-left-radius: 4px;
            border: 1px solid #e2e8f0; box-shadow: 0 4px 15px rgba(0,0,0,0.03);
        }

        /* --- Feedback & Self-Learning UI --- */
        .feedback-wrap { display: flex; gap: 12px; margin-top: 12px; opacity: 0.8; }
        .fb-action {
            cursor: pointer; font-size: 13px; font-weight: 800; padding: 6px 14px;
            border-radius: 14px; background: #f1f5f9; transition: all 0.2s;
        }
        .fb-action:hover { background: #e2e8f0; transform: scale(1.1); }
        .fb-action.liked { background: #dcfce7; color: #16a34a; }
        .fb-action.disliked { background: #fee2e2; color: #dc2626; }

        /* --- Dashboard Grid --- */
        .expert-btn {
            background: white; border: 1px solid #f1f5f9; border-radius: 28px;
            padding: 24px; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; flex-direction: column; align-items: center; text-align: center;
        }
        .expert-btn:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.08); }

        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div id="loader" class="fixed inset-0 z-[9999] bg-[#020617] flex flex-col items-center justify-center transition-opacity duration-700">
        <div class="relative w-24 h-24">
            <div class="absolute inset-0 border-4 border-blue-500/20 rounded-full"></div>
            <div class="absolute inset-0 border-4 border-t-blue-500 rounded-full animate-spin"></div>
        </div>
        <h2 class="text-white text-4xl font-black mt-8 italic tracking-tighter">GEN AI V2.0</h2>
        <p id="bootInfo" class="text-blue-400 font-mono text-[10px] mt-4 uppercase tracking-[0.4em]">Optimizing BLM Neural Weights...</p>
    </div>

    <div class="main-card">
        <header class="px-10 py-7 border-b bg-white/50 backdrop-blur-md flex justify-between items-center">
            <div class="flex items-center gap-5">
                <div class="w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl flex items-center justify-center text-white font-black text-2xl shadow-xl shadow-blue-500/20">V2</div>
                <div>
                    <h1 class="text-2xl font-black text-slate-900 leading-none">AI-Assistant-Pro</h1>
                    <div class="flex items-center gap-2 mt-2">
                        <span class="relative flex h-2 w-2">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                        </span>
                        <span id="learnTag" class="text-[10px] font-black text-blue-500 uppercase tracking-widest">Self-Learning Core Active</span>
                    </div>
                </div>
            </div>
            <div class="hidden md:block bg-slate-100 px-5 py-2 rounded-full border border-slate-200">
                <span class="text-[11px] font-bold text-slate-500">ENGINE: BIG-LANGUAGE-MODEL</span>
            </div>
        </header>

        <main id="viewport">
            <div id="homeView" class="flex flex-col items-center pt-10">
                <div class="w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center text-5xl mb-8 shadow-inner">üß†</div>
                <h2 class="text-4xl font-black text-slate-900 tracking-tight">‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏≠‡∏¥‡∏™‡∏£‡∏∞</h2>
                <p class="text-slate-500 mt-4 text-lg max-w-xl text-center">‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô Local Machine Learning ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏£‡∏∞‡∏î‡∏±‡∏ö Deep Processing</p>
                
                <div id="expertGrid" class="grid grid-cols-2 md:grid-cols-4 gap-5 mt-14 w-full max-w-5xl"></div>
            </div>
            <div id="chatView" class="hidden flex flex-col"></div>
        </main>

        <footer class="p-8 bg-white border-t border-slate-100">
            <form id="chatForm" class="flex bg-slate-50 border-2 border-slate-100 rounded-[30px] p-2 pl-8 focus-within:border-blue-500 focus-within:bg-white transition-all shadow-sm">
                <input type="text" id="userInput" placeholder="‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à, ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏•‡∏Ç ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∑‡πà‡∏ô‡πÜ..." class="flex-1 bg-transparent outline-none font-bold text-slate-700" autocomplete="off">
                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-12 py-4 rounded-[24px] font-black text-lg transition-all active:scale-95 shadow-lg shadow-blue-200">‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</button>
            </form>
        </footer>
    </div>

<script>
    /* --- 1. BLM KNOWLEDGE ENGINE --- */
    const BLM_DB = {
        math: {
            t: ["‡πÄ‡∏•‡∏Ç", "‡∏ö‡∏ß‡∏Å", "‡∏•‡∏ö", "‡∏Ñ‡∏π‡∏ì", "‡∏´‡∏≤‡∏£", "‡∏™‡∏°‡∏Å‡∏≤‡∏£", "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì", "‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°", "‡∏ñ‡∏≠‡∏î‡∏£‡∏≤‡∏Å"],
            p: ["‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠", "‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠"],
            w: 1.0
        },
        biz: {
            t: ["‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", "‡∏•‡∏á‡∏ó‡∏∏‡∏ô", "‡∏Å‡∏≥‡πÑ‡∏£", "‡∏Ç‡∏≤‡∏¢", "‡∏ï‡∏•‡∏≤‡∏î", "‡∏ó‡∏∏‡∏ô", "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à", "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô"],
            p: ["‡πÉ‡∏ô‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏ô‡∏≥‡πÑ‡∏õ‡∏™‡∏π‡πà‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ", "‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏û‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à"],
            w: 1.0
        },
        tech: {
            t: ["ai", "‡∏Ñ‡∏≠‡∏°", "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°", "‡πÇ‡∏Ñ‡πâ‡∏î", "‡∏£‡∏∞‡∏ö‡∏ö", "‡∏î‡∏≤‡∏ï‡πâ‡∏≤", "‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï"],
            p: ["‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏£‡∏∞‡∏ö‡∏∏‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö BLM", "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß"],
            w: 1.0
        },
        general: {
            t: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ", "‡πÉ‡∏Ñ‡∏£", "‡∏ä‡πà‡∏ß‡∏¢", "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì", "‡∏î‡∏µ‡∏à‡πâ‡∏≤"],
            p: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ï‡∏ô‡∏±‡∏™ ‡∏ú‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì", "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢"],
            w: 1.0
        }
    };

    /* --- 2. CORE INTELLIGENCE (AUTONOMOUS AI) --- */
    class AutonomousAI {
        constructor() { this.activeCat = "general"; }

        // Deep Analysis Loop
        process(input) {
            const raw = input.toLowerCase();
            if(!raw) return "...";

            // Loop Layer 1: Mathematical Calculation
            if (/[\d\+\-\*\/\(\)]/.test(raw) && raw.length >= 1) {
                try {
                    const res = eval(raw.replace(/[^0-9\+\-\*\/\(\)\.]/g, ''));
                    return `üî¢ **${res.toLocaleString()}** (Single-Output Processed)`;
                } catch(e) {}
            }

            // Loop Layer 2: Semantic Weight Scoring
            let scores = [];
            for (let c in BLM_DB) {
                let score = 0;
                BLM_DB[c].t.forEach(tag => { if(raw.includes(tag)) score += (1 * BLM_DB[c].w); });
                scores.push({ cat: c, val: score });
            }

            // Sorting for Best-Fit Category
            scores.sort((a, b) => b.val - a.val);
            this.activeCat = scores[0].val > 0 ? scores[0].cat : "general";

            const responses = BLM_DB[this.activeCat].p;
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Local Machine Learning (Adjustment via Feedback)
        updateLearning(isUp) {
            const tag = document.getElementById('learnTag');
            if(isUp) {
                BLM_DB[this.activeCat].w += 0.25;
                tag.innerText = `Learning: Optimized ${this.activeCat} (+)`;
            } else {
                BLM_DB[this.activeCat].w -= 0.15;
                tag.innerText = `Learning: Re-Adjusting ${this.activeCat} (-)`;
            }
        }
    }

    /* --- 3. UI & SYSTEM CONTROLLER --- */
    const core = new AutonomousAI();
    const chatForm = document.getElementById('chatForm');
    const userInput = document.getElementById('userInput');
    const viewport = document.getElementById('viewport');
    const chatView = document.getElementById('chatView');
    const homeView = document.getElementById('homeView');

    // Rendering Expert Dashboard
    const CATEGORIES = [
        {n: "Math Unit", i: "üìä", c: "#3b82f6"}, {n: "Business", i: "üíº", c: "#10b981"},
        {n: "AI Tech", i: "ü§ñ", c: "#6366f1"}, {n: "General", i: "üåê", c: "#f59e0b"},
        {n: "History", i: "üìú", c: "#f43f5e"}, {n: "Medicine", i: "üè•", c: "#06b6d4"},
        {n: "Law Core", i: "‚öñÔ∏è", c: "#8b5cf6"}, {n: "Coding", i: "üíª", c: "#334155"}
    ];

    CATEGORIES.forEach(cat => {
        const btn = document.createElement('div');
        btn.className = 'expert-btn cursor-pointer';
        btn.innerHTML = `
            <div class="text-4xl mb-3">${cat.i}</div>
            <div class="font-black text-slate-800 text-xs uppercase tracking-wider">${cat.n}</div>
        `;
        btn.onclick = () => { 
            userInput.value = `‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ${cat.n}`; 
            chatForm.dispatchEvent(new Event('submit')); 
        };
        document.getElementById('expertGrid').appendChild(btn);
    });

    // Handle Submission
    chatForm.onsubmit = (e) => {
        e.preventDefault();
        const msg = userInput.value.trim();
        if(!msg) return;

        homeView.classList.add('hidden');
        chatView.classList.remove('hidden');

        // Render User Message
        const u = document.createElement('div'); u.className = 'msg-row user';
        u.innerHTML = `<div class="bubble">${msg}</div>`;
        chatView.appendChild(u);

        userInput.value = '';
        const answer = core.process(msg);

        // Render AI Message with Learning Controls
        setTimeout(() => {
            const a = document.createElement('div');
            a.className = 'msg-row assistant';
            a.innerHTML = `
                <div class="flex flex-col items-start w-full">
                    <div class="bubble">${answer}</div>
                    <div class="feedback-wrap">
                        <span class="fb-action" onclick="core.updateLearning(true); this.classList.add('liked'); this.nextElementSibling.style.display='none'">üëç ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå</span>
                        <span class="fb-action" onclick="core.updateLearning(false); this.classList.add('disliked'); this.previousElementSibling.style.display='none'">üëé ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏û‡∏≠</span>
                    </div>
                </div>
            `;
            chatView.appendChild(a);
            viewport.scrollTop = viewport.scrollHeight;
        }, 600);
    };

    // System Boot Sequence
    window.onload = () => {
        let p = 0;
        const itv = setInterval(() => {
            p += Math.floor(Math.random() * 25);
            if(p > 100) p = 100;
            document.getElementById('bootInfo').innerText = `Optimizing BLM Neural Weights... ${p}%`;
            if(p === 100) {
                clearInterval(itv);
                setTimeout(() => { 
                    document.getElementById('loader').style.opacity = '0'; 
                    setTimeout(() => document.getElementById('loader').style.display = 'none', 700); 
                }, 400);
            }
        }, 200);
    };
</script>
</body>
</html>
