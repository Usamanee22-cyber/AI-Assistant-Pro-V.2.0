<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Assistant-Pro-V.2.0</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        /* --- Base Setup --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans Thai', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* --- Components: Loading Screen --- */
        #loadingScreen {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: #0f172a;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.6s ease;
        }

        /* --- Components: Main Container --- */
        .glass-container {
            background: rgba(255, 255, 255, 0.98);
            width: 95%;
            max-width: 1000px;
            height: 92vh;
            border-radius: 28px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 40px 80px rgba(0,0,0,0.5);
        }

        #viewport {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            background: #ffffff;
            scroll-behavior: smooth;
        }

        /* --- UI: Hero & Category Cards --- */
        .hero-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 750px;
            margin-top: 35px;
        }

        .expert-card {
            padding: 22px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 10px 15px rgba(0,0,0,0.1);
        }

        .expert-card:hover {
            transform: translateY(-5px);
            filter: brightness(1.1);
        }

        /* --- UI: Chat Bubbles --- */
        .msg-row {
            display: flex;
            width: 100%;
            margin-bottom: 24px;
            animation: slideUp 0.3s ease-out;
        }

        .msg-row.user { justify-content: flex-end; }

        .msg-bubble {
            max-width: 80%;
            padding: 16px 24px;
            border-radius: 22px;
            font-size: 15px;
            line-height: 1.6;
        }

        .user .msg-bubble {
            background: #3b82f6;
            color: white;
            border-bottom-right-radius: 4px;
        }

        .assistant .msg-bubble {
            background: #f1f5f9;
            color: #1e293b;
            border: 1px solid #e2e8f0;
            border-bottom-left-radius: 4px;
        }

        /* --- UI: Input Area --- */
        .input-area {
            padding: 20px 30px;
            background: white;
            border-top: 1px solid #f1f5f9;
            border-radius: 0 0 28px 28px;
        }

        .input-wrapper {
            display: flex;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 50px;
            padding: 6px 10px 6px 28px;
            align-items: center;
            transition: 0.3s;
        }

        .input-wrapper:focus-within {
            border-color: #3b82f6;
            background: white;
        }

        #userInput {
            flex: 1;
            border: none;
            background: transparent;
            outline: none;
            font-size: 16px;
            color: #334155;
        }

        .send-btn {
            background: #3b82f6;
            color: white;
            padding: 12px 28px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.2s;
        }

        .send-btn:active { transform: scale(0.95); }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <div id="loadingScreen">
        <div class="text-6xl animate-bounce">‚ö°</div>
        <div class="text-white text-4xl font-black mt-4 tracking-tighter">Gen AI</div>
        <div class="text-blue-400 text-xs mt-2 uppercase tracking-widest">System Booting...</div>
    </div>

    <div class="glass-container">
        <header class="px-8 py-5 border-b flex justify-between items-center bg-white rounded-t-[28px]">
            <div class="flex items-center gap-4">
                <div class="w-11 h-11 bg-blue-600 rounded-2xl rotate-3 flex items-center justify-center text-white font-black shadow-lg">V2</div>
                <div>
                    <h2 class="font-black text-slate-800 leading-none">AI-Assistant-Pro-V.2.0</h2>
                    <p class="text-[9px] text-blue-500 font-bold uppercase mt-1 tracking-widest">Optimized Single-Output Engine</p>
                </div>
            </div>
            <div class="text-[10px] font-bold text-slate-400 bg-slate-100 px-3 py-1 rounded-full">STATUS: READY</div>
        </header>

        <main id="viewport">
            <section id="homeView" class="hero-section">
                <div class="text-7xl mb-8">üß†</div>
                <h1 class="text-3xl font-black text-slate-800">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏ä‡∏∑‡πà‡∏≠ AI-Assistant-Pro-V.2.0</h1>
                <p class="text-slate-500 mt-4 text-lg max-w-lg">‡∏ú‡∏°‡∏à‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏™‡πà‡∏á‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>
                <div class="category-grid" id="categoryGrid"></div>
            </section>

            <section id="chatView" class="hidden flex flex-col"></section>
        </main>

        <footer class="input-area">
            <form id="chatForm" class="input-wrapper">
                <input type="text" id="userInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..." autocomplete="off">
                <button type="submit" class="send-btn">‡∏™‡πà‡∏á</button>
            </form>
        </footer>
    </div>

    <script>
        /* --- 1. Configurations & Databases --- */
        const SAFETY_LIST = ["‡∏Ñ‡∏ß‡∏¢", "‡πÄ‡∏¢‡πá‡∏î", "‡∏´‡∏µ", "‡πÅ‡∏ï‡∏î", "‡∏°‡∏∂‡∏á", "‡∏Å‡∏π", "‡∏ä‡∏¥‡∏ö‡∏´‡∏≤‡∏¢", "‡∏™‡∏±‡∏™", "‡πÄ‡∏´‡∏µ‡πâ‡∏¢", "fuck", "shit", "bitch", "porn"];

        const ANS_DB = {
            business: [
                "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏î‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÅ‡∏•‡∏∞‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏£‡∏±‡∏ö", 
                "‡∏ï‡∏•‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏´‡∏•‡∏±‡∏ö‡πÉ‡∏´‡∏• ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ô‡∏ó‡∏≥‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏û‡∏±‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô"
            ],
            math: [
                "‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏≠‡∏î‡∏£‡∏´‡∏±‡∏™‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥", 
                "‡πÄ‡∏•‡∏Ç‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏°‡∏µ‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏™‡∏°‡∏≠ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÇ‡∏ï‡∏ô‡∏±‡∏™‡∏ä‡∏≠‡∏ö‡∏°‡∏≠‡∏á‡∏´‡∏≤"
            ],
            tech: [
                "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏á‡πà‡∏≤‡∏¢", 
                "V.2.0 Engine ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"
            ],
            gen: [
                "‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡∏ö ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πà‡∏≠‡πÑ‡∏´‡∏°?", 
                "‡∏ú‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå"
            ]
        };

        const CATEGORY_MAP = {
            business: { n: "‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", i: "üíº", c: "#4f46e5", k: ["‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", "‡∏•‡∏á‡∏ó‡∏∏‡∏ô", "‡∏£‡∏ß‡∏¢", "‡∏´‡∏∏‡πâ‡∏ô"] },
            math: { n: "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì", i: "üìä", c: "#ef4444", k: ["‡πÄ‡∏•‡∏Ç", "‡∏™‡∏°‡∏Å‡∏≤‡∏£", "‡∏ö‡∏±‡∏ç‡∏ä‡∏µ", "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì", "‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°"] },
            tech: { n: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", i: "üöÄ", c: "#10b981", k: ["ai", "‡∏Ñ‡∏≠‡∏°", "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°", "‡πÄ‡∏ß‡πá‡∏ö"] },
            history: { n: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", i: "üìú", c: "#f59e0b", k: ["‡∏≠‡∏î‡∏µ‡∏ï", "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", "‡∏£.5"] }
        };

        /* --- 2. Logic Engine --- */
        class SmartEngineV2 {
            _isBad(text) { 
                return SAFETY_LIST.some(word => text.includes(word)); 
            }

            _getRandomResponse(category) {
                const list = ANS_DB[category] || ANS_DB.gen;
                return list[Math.floor(Math.random() * list.length)];
            }

            async processRequest(input) {
                if (this._isBad(input)) {
                    return "‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á V.2.0 ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏≥‡πÑ‡∏°‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û üôè";
                }

                const query = input.toLowerCase();

                // Math Calculation Logic
                if (/[\d\+\-\*\/\(\)]/.test(query) && query.length >= 3) {
                    try {
                        const sanitizedQuery = query.replace(/[^0-9\+\-\*\/\(\)\.]/g, '');
                        const result = eval(sanitizedQuery);
                        return `üî¢ ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏∑‡∏≠: **${result.toLocaleString()}** (Single-Output Calculation)`;
                    } catch (e) { /* Fallback if math fails */ }
                }

                // Category Keyword Matching
                for (const key in CATEGORY_MAP) {
                    if (CATEGORY_MAP[key].k.some(keyword => query.includes(keyword))) {
                        return `[Expert ${CATEGORY_MAP[key].n}]: ${this._getRandomResponse(key)}`;
                    }
                }

                return this._getRandomResponse('gen');
            }
        }

        /* --- 3. UI Controller --- */
        const engine = new SmartEngineV2();
        const chatForm = document.getElementById('chatForm');
        const userInput = document.getElementById('userInput');
        const homeView = document.getElementById('homeView');
        const chatView = document.getElementById('chatView');
        const viewport = document.getElementById('viewport');
        const grid = document.getElementById('categoryGrid');

        // Initialize Expert Cards
        Object.entries(CATEGORY_MAP).forEach(([key, item]) => {
            const card = document.createElement('div');
            card.className = 'expert-card';
            card.style.backgroundColor = item.c;
            card.innerHTML = `<div class="text-3xl">${item.i}</div><div class="font-bold text-lg mt-2">${item.n}</div>`;
            card.onclick = () => {
                userInput.value = `‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô ${item.n}`;
                chatForm.dispatchEvent(new Event('submit'));
            };
            grid.appendChild(card);
        });

        function appendMessage(text, side) {
            homeView.classList.add('hidden');
            chatView.classList.remove('hidden');
            
            const row = document.createElement('div');
            row.className = `msg-row ${side}`;
            row.innerHTML = `<div class="msg-bubble shadow-sm">${text}</div>`;
            
            chatView.appendChild(row);
            viewport.scrollTop = viewport.scrollHeight;
        }

        chatForm.onsubmit = async (e) => {
            e.preventDefault();
            const message = userInput.value.trim();
            if (!message) return;

            appendMessage(message, 'user');
            userInput.value = '';

            const response = await engine.processRequest(message);
            setTimeout(() => appendMessage(response, 'assistant'), 300);
        };

        // Loading Screen Handler
        window.onload = () => {
            setTimeout(() => {
                const loader = document.getElementById('loadingScreen');
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 600);
            }, 1800);
        };
    </script>
</body>
</html>
